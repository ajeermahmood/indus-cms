<div class="main-content">
  <!-- Progress Bar -->
  <div class="progress-bar-wrapper" *ngIf="uploading">
    <p class="mb-2 text-light">Uploading Image... {{ uploading_progress }}%</p>
    <div class="progress-bar">
      <div
        class="progress-bar-fill"
        [ngStyle]="{ 'width.%': uploading_progress % 100 }"
      ></div>
    </div>
  </div>
  <!-- Progress Bar -->
  <div class="container-fluid">
    <div
      *ngIf="saving"
      class="d-flex align-items-center justify-content-center w-100 h-30rem"
    >
      <mat-spinner [diameter]="50"></mat-spinner>
    </div>
    <div class="col w-100" *ngIf="!saving">
      <div class="row m-0 justify-content-between align-items-center p20">
        <h3>Add New Guide</h3>

        <div class="row m-0">
          <div class="col">
            <div class="btn save-btn" (click)="save()">Save</div>
          </div>
        </div>
      </div>

      <div class="row m-0 w-100 mt-4">
        <div class="col pl-0">
          <mat-form-field appearance="outline">
            <mat-label>Select Location</mat-label>
            <mat-select>
              <mat-option *ngFor="let l of locations" [value]="l.value">
                {{ l.label }}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Short Description</mat-label>
            <textarea
              matInput
              placeholder="Enter short description"
              rows="3"
              [(ngModel)]="dev_short_desc"
            ></textarea>
          </mat-form-field>
        </div>
        <div class="col pr-0">
          <div class="row m-0 justify-content-between align-items-center">
            <h4 class="mt-0">Main Image</h4>
            <img
              matTooltip="Edit Image"
              class="edit-btn"
              src="assets/img/svg/edit.svg"
              alt=""
              (click)="editImg(main_img, 'main')"
            />
          </div>
          <img class="w-100 maxh20rem contain" src="{{ main_img }}" alt="" />
        </div>
      </div>

      <h4 class="mt-0">Description</h4>
      <editor
        apiKey="uriyx9p2q6b73b9ngch8oowagdehtak3ytc2v1r9x99qv2rw"
        [init]="tinyMceConfig"
        [(ngModel)]="guide_long_desc"
      ></editor>

      <h4 class="mt-3">Gallary</h4>
      <div
        class="gallary-uploads"
        [ngClass]="
          gallary_imgs.length > 0
            ? ''
            : 'd-flex justify-content-center align-items-center'
        "
      >
        <div class="img-wrapper row m-0" *ngIf="gallary_imgs.length > 0">
          <div
            *ngFor="let img of gallary_imgs; let index = index"
            style="max-width: 160px; max-height: 100px"
          >
            <img src="{{ img }}" alt="" />
            <mat-icon class="remove-icon" (click)="removeGallaryImg(index)">cancel</mat-icon>
          </div>
        </div>

        <input
          #input
          class="d-none"
          multiple
          type="file"
          accept="image/*"
          id="file"
          (change)="handleFileInputGallary($event.target.files)"
        />
        <div class="d-block" *ngIf="gallary_imgs.length == 0">
          <p class="mb-2" style="color: #cb7d16">Add Galary Images.</p>
          <div class="row m-0 justify-content-center w-100">
            <div class="btn upload-btn" (click)="input.click()">Upload</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
